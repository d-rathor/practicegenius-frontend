(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{2623:function(e,r,s){Promise.resolve().then(s.bind(s,564))},564:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return c}});var a=s(7437),t=s(2265),o=s(480),l=s(7648),n=s(3145),i=s(9376);function c(){let[e,r]=(0,t.useState)({username:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[s,c]=(0,t.useState)({}),[d,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),p=(0,i.useRouter)();(0,t.useEffect)(()=>{try{let e=localStorage.getItem("practicegenius_session");if(e){let r=JSON.parse(e);r&&r.user&&new Date(r.expires)>new Date&&p.push("/dashboard")}}catch(e){console.error("Error checking authentication status:",e)}},[p]);let x=e=>{let{name:a,value:t,type:o,checked:l}=e.target;r(e=>({...e,[a]:"checkbox"===o?l:t})),s[a]&&c(e=>{let r={...e};return delete r[a],r})},g=()=>{let r={};return e.username.trim()||(r.username="Username is required"),e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(r.email="Please enter a valid email address"):r.email="Email is required",e.password?e.password.length<8?r.password="Password must be at least 8 characters long":/(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])/.test(e.password)||(r.password="Password must include at least one uppercase letter, one number, and one special character"):r.password="Password is required",e.password!==e.confirmPassword&&(r.confirmPassword="Passwords do not match"),e.agreeToTerms||(r.agreeToTerms="You must agree to the Terms of Service and Privacy Policy"),r},f=async r=>{r.preventDefault();let s=g();if(Object.keys(s).length>0){c(s);return}m(!0),h(null);try{{let r=[];try{let e=localStorage.getItem("practicegenius_users");e&&(r=JSON.parse(e))}catch(e){console.error("Error parsing stored users:",e),r=[]}if(r.find(r=>r.email===e.email||r.username===e.username)){h("User with this email or username already exists"),m(!1);return}let s={id:Date.now().toString(),username:e.username,email:e.email,password:e.password,role:"user",subscriptionPlan:"free",createdAt:new Date().toISOString()};r.push(s),localStorage.setItem("practicegenius_users",JSON.stringify(r));let a={user:{id:s.id,name:s.username,email:s.email},expires:new Date(Date.now()+2592e6).toISOString()};localStorage.setItem("practicegenius_session",JSON.stringify(a)),p.push("/dashboard")}}catch(e){console.error("Registration error:",e),h("An error occurred during registration. Please try again.")}finally{m(!1)}},w=async()=>{try{h(null);{let e={id:"google-"+Date.now().toString(),username:"Google User",email:"google-user@example.com",googleId:"mock-google-id-"+Date.now(),role:"user",subscriptionPlan:"free",createdAt:new Date().toISOString()},r=[];try{let e=localStorage.getItem("practicegenius_users");e&&(r=JSON.parse(e))}catch(e){console.error("Error parsing stored users:",e),r=[]}r.push(e),localStorage.setItem("practicegenius_users",JSON.stringify(r));let s={user:{id:e.id,name:e.username,email:e.email},expires:new Date(Date.now()+2592e6).toISOString()};localStorage.setItem("practicegenius_session",JSON.stringify(s)),p.push("/dashboard")}}catch(e){console.error("Google sign up error:",e),h("An error occurred during Google sign up. Please try again.")}};return(0,a.jsx)(o.default,{children:(0,a.jsx)("div",{className:"bg-background min-h-screen pt-20",children:(0,a.jsx)("div",{className:"container-custom py-12",children:(0,a.jsx)("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-secondary",children:"Create Your Account"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Join PracticeGenius for access to premium educational worksheets"})]}),u&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg border border-red-200",children:u}),(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),(0,a.jsx)("input",{type:"text",id:"username",name:"username",className:"form-input ".concat(s.username?"border-red-500":""),placeholder:"Choose a username",value:e.username,onChange:x,required:!0}),s.username&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.username})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",className:"form-input ".concat(s.email?"border-red-500":""),placeholder:"Enter your email",value:e.email,onChange:x,required:!0}),s.email&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",className:"form-input ".concat(s.password?"border-red-500":""),placeholder:"Create a password",value:e.password,onChange:x,required:!0}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters long with at least one uppercase letter, one number, and one special character."}),s.password&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.password})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"form-input ".concat(s.confirmPassword?"border-red-500":""),placeholder:"Confirm your password",value:e.confirmPassword,onChange:x,required:!0}),s.confirmPassword&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.confirmPassword})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"agreeToTerms",name:"agreeToTerms",className:"form-checkbox h-5 w-5 text-primary ".concat(s.agreeToTerms?"border-red-500":""),checked:e.agreeToTerms,onChange:x,required:!0}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",(0,a.jsx)(l.default,{href:"/terms-of-service",className:"text-primary hover:text-primary-dark",children:"Terms of Service"})," ","and"," ",(0,a.jsx)(l.default,{href:"/privacy-policy",className:"text-primary hover:text-primary-dark",children:"Privacy Policy"})]})]}),s.agreeToTerms&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.agreeToTerms})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-full mb-4",disabled:d,children:d?"Creating Account...":"Create Account"}),(0,a.jsxs)("div",{className:"relative flex items-center my-6",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,a.jsx)("span",{className:"flex-shrink mx-4 text-gray-600",children:"or"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,a.jsxs)("button",{type:"button",className:"flex items-center justify-center w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:w,disabled:d,children:[(0,a.jsx)(n.default,{src:"/icons/google.svg",alt:"Google",width:20,height:20,className:"mr-2"}),(0,a.jsx)("span",{children:"Sign up with Google"})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(l.default,{href:"/login",className:"text-primary font-medium hover:text-primary-dark",children:"Log In"})]})})]})})})})})}}},function(e){e.O(0,[448,145,480,971,117,744],function(){return e(e.s=2623)}),_N_E=e.O()}]);