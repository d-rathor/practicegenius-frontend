(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5959:function(e,r,s){Promise.resolve().then(s.bind(s,8991))},8991:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return c}});var a=s(7437),t=s(2265),l=s(480),o=s(7648),i=s(3145),n=s(9376);function c(){let[e,r]=(0,t.useState)({email:"",password:""}),[s,c]=(0,t.useState)({}),[d,m]=(0,t.useState)(!1),[u,g]=(0,t.useState)(null),p=(0,n.useRouter)();(0,t.useEffect)(()=>{r({email:"",password:""});try{let e=localStorage.getItem("practicegenius_session");if(e){let r=JSON.parse(e);r&&r.user&&new Date(r.expires)>new Date&&p.push("/dashboard")}}catch(e){console.error("Error checking authentication status:",e)}},[p]);let h=e=>{let{name:a,value:t}=e.target;r(e=>({...e,[a]:t})),s[a]&&c(e=>{let r={...e};return delete r[a],r})},x=()=>{let r={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(r.email="Please enter a valid email address"):r.email="Email is required",e.password||(r.password="Password is required"),r},f=async r=>{r.preventDefault();let s=x();if(Object.keys(s).length>0){c(s);return}m(!0),g(null);try{{let r=[];try{let e=localStorage.getItem("practicegenius_users");e&&(r=JSON.parse(e))}catch(e){console.error("Error parsing stored users:",e),r=[]}let s=r.find(r=>r.email===e.email&&r.password===e.password);if(s){let e={user:{id:s.id,name:s.username,email:s.email},expires:new Date(Date.now()+2592e6).toISOString()};localStorage.setItem("practicegenius_session",JSON.stringify(e)),p.push("/dashboard")}else g("Invalid email or password")}}catch(e){console.error("Login error:",e),g("An error occurred during login. Please try again.")}finally{m(!1)}},b=async()=>{try{g(null);{let e={id:"google-"+Date.now().toString(),username:"Google User",email:"google-user@example.com",googleId:"mock-google-id-"+Date.now(),role:"user",subscriptionPlan:"free",createdAt:new Date().toISOString()},r=[];try{let e=localStorage.getItem("practicegenius_users");e&&(r=JSON.parse(e))}catch(e){console.error("Error parsing stored users:",e),r=[]}r.push(e),localStorage.setItem("practicegenius_users",JSON.stringify(r));let s={user:{id:e.id,name:e.username,email:e.email},expires:new Date(Date.now()+2592e6).toISOString()};localStorage.setItem("practicegenius_session",JSON.stringify(s)),p.push("/dashboard")}}catch(e){console.error("Google login error:",e),g("An error occurred during Google login. Please try again.")}};return(0,a.jsx)(l.default,{children:(0,a.jsx)("div",{className:"bg-background min-h-screen pt-20",children:(0,a.jsx)("div",{className:"container-custom py-12",children:(0,a.jsx)("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-secondary",children:"Welcome Back!"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Log in to access your PracticeGenius account"})]}),u&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg border border-red-200",children:u}),(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",className:"form-input ".concat(s.email?"border-red-500":""),placeholder:"Enter your email",value:e.email,onChange:h,required:!0}),s.email&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,a.jsx)(o.default,{href:"/forgot-password",className:"text-sm text-primary hover:text-primary-dark",children:"Forgot Password?"})]}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",className:"form-input ".concat(s.password?"border-red-500":""),placeholder:"Enter your password",value:e.password,onChange:h,required:!0}),s.password&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:s.password})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-full mb-4",disabled:d,children:d?"Logging In...":"Log In"}),(0,a.jsxs)("div",{className:"relative flex items-center my-6",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,a.jsx)("span",{className:"flex-shrink mx-4 text-gray-600",children:"or"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,a.jsxs)("button",{type:"button",className:"flex items-center justify-center w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:b,disabled:d,children:[(0,a.jsx)(i.default,{src:"/icons/google.svg",alt:"Google",width:20,height:20,className:"mr-2"}),(0,a.jsx)("span",{children:"Continue with Google"})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(o.default,{href:"/register",className:"text-primary font-medium hover:text-primary-dark",children:"Register"})]})})]})})})})})}}},function(e){e.O(0,[448,145,480,971,117,744],function(){return e(e.s=5959)}),_N_E=e.O()}]);